"use strict";function i18n(t){return window.I18N_MESSAGES[t]}function timeSecsToIntervalText(t){var n=(Math.floor(t)%60).toString(),e=(Math.floor(t/60)%60).toString(),a=(Math.floor(t/3600)%24).toString(),o=Math.floor(t/86400).toString(),i=i18n("util.time.days"),r=i18n("util.time.hours"),c=i18n("util.time.min"),s=i18n("util.time.sec");return o>0?o+" "+i+" "+a+" "+r+" "+e+" "+c+" "+n+" "+s:a>0?a+" "+r+" "+e+" "+c+" "+n+" "+s:e>0?e+" "+c+" "+n+" "+s:n+" "+s}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GUEST_AVATAR_URL="*/images/guest-avatar.png",GoogleAuth;!function(){function t(){return!function(t,n,e){function a(t,n){return("undefined"==typeof t?"undefined":_typeof(t))===n}function o(){var t,n,e,o,i,r,u;for(var l in s)if(s.hasOwnProperty(l)){if(t=[],n=s[l],n.name&&(t.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(e=0;e<n.options.aliases.length;e++)t.push(n.options.aliases[e].toLowerCase());for(o=a(n.fn,"function")?n.fn():n.fn,i=0;i<t.length;i++)r=t[i],u=r.split("."),1===u.length?f[u[0]]=o:(!f[u[0]]||f[u[0]]instanceof Boolean||(f[u[0]]=new Boolean(f[u[0]])),f[u[0]][u[1]]=o),c.push((o?"":"no-")+u.join("-"))}}function i(t){var n=g.className,e=f._config.classPrefix||"";if(h&&(n=n.baseVal),f._config.enableJSClass){var a=new RegExp("(^|\\s)"+e+"no-js(\\s|$)");n=n.replace(a,"$1"+e+"js$2")}f._config.enableClasses&&(n+=" "+e+t.join(" "+e),h?g.className.baseVal=n:g.className=n)}function r(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):h?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}var c=[],s=[],u={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,n){var e=this;setTimeout(function(){n(e[t])},0)},addTest:function(t,n,e){s.push({name:t,fn:n,options:e})},addAsyncTest:function(t){s.push({name:null,fn:t})}},f=function(){};f.prototype=u,f=new f;var l=!1;try{l="WebSocket"in t&&2===t.WebSocket.CLOSING}catch(t){}f.addTest("websockets",l);var g=n.documentElement,h="svg"===g.nodeName.toLowerCase();f.addTest("canvas",function(){var t=r("canvas");return!(!t.getContext||!t.getContext("2d"))}),f.addTest("canvastext",function(){return f.canvas!==!1&&"function"==typeof r("canvas").getContext("2d").fillText}),o(),i(c),delete u.addTest,delete u.addAsyncTest;for(var d=0;d<f._q.length;d++)f._q[d]();t.Modernizr=f}(window,document),Modernizr.websockets&&Modernizr.canvas&&Modernizr.canvastext}function n(t,n,e){var a=document.createElement("script"),o=!0;n&&(a.id=n),a.async="async",a.type="text/javascript",a.src=t,e&&(a.onload=a.onreadystatechange=function(){o=!1;try{e()}catch(t){console.log(t)}a.onload=a.onreadystatechange=null});var i=document.head||document.getElementsByTagName("head")[0];i.appendChild(a)}function e(){function e(t,n,e,a,o,i){var r='<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 456 456" xml:space="preserve"><rect x="0" y="0" width="456" height="456" fill="#F7941D"/><path d="M118.1 138.7c10.9 27 24.8 52.4 43 75.2 2.4 3 5.5 5.7 8.7 7.9 4.7 3.2 9.1 2.1 11-3.3 2-5.6 3.9-17 4-23 0.3-15.4 0-25.6-0.9-41 -0.5-9.9-4.1-18.6-18.6-21.2 -4.5-0.8-4.9-4.5-2-8.2 6-7.7 14.4-8.9 23.4-9.4 14.7-0.8 29.5-0.1 44.2 0 6 0.1 12 0.5 17.9 1.8 7.7 1.7 11.8 7.1 13.1 14.6 0.7 3.9 1 7.9 0.9 11.8 -0.4 16.9-1.2 33.7-1.4 50.6 -0.1 6.6 0.4 13.4 1.8 19.8 2 9 8.1 11.2 14.3 4.7 7.9-8.2 14.9-17.5 21.5-26.9 11.9-17.1 20.8-35.9 28.5-55.3 4-10 7-12.2 17.8-12.2 20.2 0 40.4-0.1 60.7 0 3.6 0 7.3 0.4 10.7 1.4 5.5 1.8 7.7 6.2 6.4 11.9 -3 13.3-10.2 24.6-17.9 35.5 -12.4 17.5-25.3 34.5-38 51.8 -1.6 2.2-3 4.5-4.4 6.9 -4.7 8.6-4.4 13.4 2.5 20.5 11 11.3 22.8 22 33.4 33.6 7.7 8.5 14.9 17.7 21 27.4 7.8 12.2 3 23.8-11.5 25.8 -9.1 1.3-53.6 0-55.9 0 -12-0.1-22.5-4.2-30.9-12.3 -9.4-9.1-17.9-19-27-28.4 -2.7-2.8-5.6-5.6-8.7-8 -7.4-5.6-14.6-4.4-18.1 4.3 -2.9 7.4-5.5 27-5.6 28.7 -0.6 8.7-6.2 14.3-16 14.8 -28.2 1.5-55.6-1.6-81.1-15.3 -21.6-11.6-38.9-27.9-53.8-47 -23.7-30.3-42.5-63.6-59.6-97.9 -0.9-1.8-18.2-38.7-18.7-40.4 -1.5-5.8-0.1-11.4 4.8-13.3 3.1-1.2 60.2 0 61.2 0C108 125.4 114.2 129.2 118.1 138.7z" fill="#FFF"/></svg><span>'+t+"</span></div>";return"undefined"!=typeof VK&&"undefined"!=typeof VK.Share?VK.Share.button({noparse:!0,url:n,title:a,description:o,image:i},{type:"custom",text:r}):$(r)}function o(t,n,e,a,o,i){var r='<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 456 456" xml:space="preserve"><rect x="0" y="0" width="456" height="456" fill="#F7941D"/><path d="M242.7 456V279.7h-59.3v-71.9h59.3v-60.4c0-43.9 35.6-79.5 79.5-79.5h62v64.6h-44.4c-13.9 0-25.3 11.3-25.3 25.3v50h68.5l-9.5 71.9h-59.1V456z" fill="#fff"/></svg><span>'+t+"</span></div>",c=$(r);return c.click(function(){"undefined"!=typeof FB&&"undefined"!=typeof FB.ui&&FB.ui({method:"feed",display:"popup",link:n,name:e,caption:a,description:o,picture:i},function(){})}),c}function r(){return"true"===getCookie("shared")}function u(t){setCookie("shared",!!t,1800)}function f(){return getCookie("nickname")}function l(t){setCookie("nickname",t,30)}function g(t){setCookie("skin",t,30)}function h(){return r()?parseInt(getCookie("skin")):ot.b.a()}function d(){if(I.keypress(function(t){13==t.keyCode&&ot.c()}),y.click(ot.c),k.click(ot.c),w.click(function(){return ot.e.d()}),S.click(function(){return ot.e.d()}),N.click(function(){ot.g.f()&&ot.e.h()}),j.click(function(){ot.g.f()&&ot.e.i()}),C.click(function(){ot.g.f()&&ot.e.j()}),q.click(function(){ot.g.f()&&ot.e.k()}),Q.click(function(){ot.g.f()&&ot.e.l()}),L.click(ot.b.m),x.click(ot.b.n),$("html").keydown(function(t){8==t.keyCode&&ot.o(!0)}).keyup(function(t){8==t.keyCode&&ot.o(!1)}),U.click(function(){try{googletag.pubads().refresh()}catch(t){}ot.q.p()}),console.log("sSE="+i.r),R.toggle(i.r),P.toggle(i.r),i.r&&!r()){var t=function(){u(!0),D.hide()};D.show();var n=i18n("index.game.main.menu.unlockSkins.share"),e=encodeURIComponent(i18n("index.game.main.menu.unlockSkins.comeAndPlay")+" https://wormate.io/ #wormate #wormateio"),a=encodeURIComponent(i18n("index.game.main.menu.unlockSkins.comeAndPlay"));E.append($('<a class="skin-over-button" id="skin-over-tw" target="_blank" href="https://web.archive.org/web/20170311090334/http://twitter.com/intent/tweet?status='+e+'"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjQ1NiIgaGVpZ2h0PSI0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik02MCAzMzhjMzAgMTkgNjYgMzAgMTA1IDMwIDEwOCAwIDE5Ni04OCAxOTYtMTk2IDAtMyAwLTUgMC04IDQtMyAyOC0yMyAzNC0zNSAwIDAtMjAgOC0zOSAxMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAyLTEgMjctMTggMzAtMzggMCAwLTE0IDctMzMgMTQgLTMgMS03IDItMTAgMyAtMTMtMTMtMzAtMjItNTAtMjIgLTM4IDAtNjkgMzEtNjkgNjkgMCA1IDEgMTEgMiAxNiAtNSAwLTg2LTUtMTQxLTcxIDAgMC0zMyA0NSAyMCA5MSAwIDAtMTYtMS0zMC05IDAgMC01IDU0IDU0IDY4IDAgMC0xMiA0LTMwIDEgMCAwIDEwIDQ0IDYzIDQ4IDAgMC00MiAzOC0xMDEgMjlMNjAgMzM4eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="><span>'+n+"</span></a>").click(t)),E.append($('<a class="skin-over-button" id="skin-over-vk" target="_blank" href="https://web.archive.org/web/20170311090334/http://vk.com/share.php?url=https%3A%2F%2Fwormate.io"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ1NiA0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik0xMTguMSAxMjVjMTAuOSAyNyAyNC44IDUyLjQgNDMgNzUuMiAyLjQgMyA1LjUgNS43IDguNyA3LjkgNC43IDMuMiA5LjEgMi4xIDExLTMuMyAyLTUuNiAzLjktMTcgNC0yMyAwLjMtMTUuNCAwLTI1LjYtMC45LTQxIC0wLjUtOS45LTQuMS0xOC42LTE4LjYtMjEuMiAtNC41LTAuOC00LjktNC41LTItOC4yIDYtNy43IDE0LjQtOC45IDIzLjQtOS40IDE0LjctMC44IDI5LjUtMC4xIDQ0LjIgMCA2IDAuMSAxMiAwLjUgMTcuOSAxLjggNy43IDEuNyAxMS44IDcuMSAxMy4xIDE0LjYgMC43IDMuOSAxIDcuOSAwLjkgMTEuOCAtMC40IDE2LjktMS4yIDMzLjctMS40IDUwLjYgLTAuMSA2LjYgMC40IDEzLjQgMS44IDE5LjggMiA5IDguMSAxMS4yIDE0LjMgNC43IDcuOS04LjIgMTQuOS0xNy41IDIxLjUtMjYuOSAxMS45LTE3LjEgMjAuOC0zNS45IDI4LjUtNTUuMyA0LTEwIDctMTIuMiAxNy44LTEyLjIgMjAuMiAwIDQwLjQtMC4xIDYwLjcgMCAzLjYgMCA3LjMgMC40IDEwLjcgMS40IDUuNSAxLjggNy43IDYuMiA2LjQgMTEuOSAtMyAxMy4zLTEwLjIgMjQuNi0xNy45IDM1LjUgLTEyLjQgMTcuNS0yNS4zIDM0LjUtMzggNTEuOCAtMS42IDIuMi0zIDQuNS00LjQgNi45IC00LjcgOC42LTQuNCAxMy40IDIuNSAyMC41IDExIDExLjMgMjIuOCAyMiAzMy40IDMzLjYgNy43IDguNSAxNC45IDE3LjcgMjEgMjcuNCA3LjggMTIuMiAzIDIzLjgtMTEuNSAyNS44IC05LjEgMS4zLTUzLjYgMC01NS45IDAgLTEyLTAuMS0yMi41LTQuMi0zMC45LTEyLjMgLTkuNC05LjEtMTcuOS0xOS0yNy0yOC40IC0yLjctMi44LTUuNi01LjYtOC43LTggLTcuNC01LjYtMTQuNi00LjQtMTguMSA0LjMgLTIuOSA3LjQtNS41IDI3LTUuNiAyOC43IC0wLjYgOC43LTYuMiAxNC4zLTE2IDE0LjggLTI4LjIgMS41LTU1LjYtMS42LTgxLjEtMTUuMyAtMjEuNi0xMS42LTM4LjktMjcuOS01My44LTQ3IC0yMy43LTMwLjMtNDIuNS02My42LTU5LjYtOTcuOSAtMC45LTEuOC0xOC4yLTM4LjctMTguNy00MC40IC0xLjUtNS44LTAuMS0xMS40IDQuOC0xMy4zIDMuMS0xLjIgNjAuMiAwIDYxLjIgMEMxMDggMTI1LjQgMTE0LjIgMTI5LjIgMTE4LjEgMTM4Ljd6IiBmaWxsPSIjRkZGIi8+PC9zdmc+"><span>'+n+"</span></a>").click(t)),E.append($('<a class="skin-over-button" id="skin-over-fb" target="_blank" href="https://web.archive.org/web/20170311090334/https://www.facebook.com/dialog/share?app_id=861926850619051&display=popup&href=https%3A%2F%2Fwormate.io&redirect_uri=https%3A%2F%2Fwormate.io&hashtag=%23wormateio&quote='+a+'"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ1NiA0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik0yNDQuMyA0NTZWMjc5LjdoLTU5LjN2LTcxLjloNTkuM3YtNjAuNGMwLTQzLjkgMzUuNi03OS41IDc5LjUtNzkuNWg2MnY2NC42aC00NC40Yy0xMy45IDAtMjUuMyAxMS4zLTI1LjMgMjUuM3Y1MGg2OC41bC05LjUgNzEuOWgtNTkuMVY0NTZ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"><span>'+n+"</span></a>").click(t))}var o={contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),!1},touchmove:function(t){(t=t||window.event)&&(t=t.touches[0],"undefined"!=typeof t.clientX?ot.s(t.clientX,t.clientY):ot.s(t.pageX,t.pageY))},touchstart:function(t){(t=t||window.event)&&ot.o(t.touches.length>=2),t.preventDefault()},touchend:function(t){(t=t||window.event)&&ot.o(t.touches.length>=2)},mousemove:function(t){(t=t||window.event&&"undefined"!=typeof t.clientX)&&ot.s(t.clientX,t.clientY)},mousedown:function(t){ot.o(!0)},mouseup:function(t){ot.o(!1)}};addEventListener("contextmenu",o.contextmenu),nt.addEventListener("touchmove",o.touchmove,!0),nt.addEventListener("touchstart",o.touchstart,!0),nt.addEventListener("touchend",o.touchend,!0),nt.addEventListener("mousemove",o.mousemove,!0),nt.addEventListener("mousedown",o.mousedown,!0),nt.addEventListener("mouseup",o.mouseup,!0)}function p(){var t=A.width(),n=A.height(),e=O.outerWidth(),a=O.outerHeight(),o=X.outerHeight(),i=Z.outerHeight(),r=Math.min(1,Math.min((n-i-o)/a,t/e)),c="translate(-50%, -50%) scale("+r+")";O.css({"-webkit-transform":c,"-moz-transform":c,"-ms-transform":c,"-o-transform":c,transform:c}),ot.u.t()}var v=window.I18N_LANG;v||(v="en");var b=void 0;switch(v){case"uk":b="uk_UA";break;case"de":b="de_DE";break;case"fr":b="fr_FR";break;case"ru":b="ru_RU";break;case"es":b="es_ES";break;default:b="en_US"}moment.locale(b);var M=document.getElementById("game-wrap");if(M.style.display="block",!t()){var m=document.getElementById("error-page");return void(m.style.display="block")}var A=$("body"),T=$("#players-advice-cont"),I=$("#input-nickname"),y=$("#input-play"),w=$("#input-login"),k=$("#input-guest"),N=$("#input-profile"),C=$("#input-store"),j=$("#input-leaders"),S=$("#input-settings"),L=$("#skin-view-prev"),x=$("#skin-view-next"),D=$("#skin-over-cont"),E=$("#skin-over-button-list"),O=$("#main-menu-flex"),_=$("#final-caption"),U=$("#final-continue"),R=$("#final-share-vk"),P=$("#final-share-fb"),z=$("#final-message"),Y=$("#final-score"),H=$("#final-place"),B=$("#final-board"),G=$("#avatar"),V=$("#username"),Q=$("#main-coins-cont"),F=$("#coins"),W=$("#experience-bar"),K=$("#experience-val"),J=$("#level"),X=$("#markup-header"),Z=$("#markup-footer"),q=$("#skin-view-canv"),tt=$("#store-view-canv"),nt=document.getElementById("game-canvas"),et=0,at=T.children();setInterval(function(){at.eq(et).fadeOut(500,function(){++et>=at.length&&(et=0),at.eq(et).fadeIn(500).css("display","inline-block")})},3e3),_.text(i18n("index.game.result.title")),U.text(i18n("index.game.result.continue")),setTimeout(function(){n("//web.archive.org/web/20170311090334/https://connect.facebook.net/"+b+"/sdk.js","facebook-jssdk",function(){FB.init({appId:"861926850619051",cookie:!0,xfbml:!0,status:!0,version:"v2.8"}),ot.g.w()}),n("//web.archive.org/web/20170311090334/https://vk.com/js/api/openapi.js?127",null,function(){VK.init({apiId:5607778}),$("#__vk_like").length&&VK.Widgets.Like("__vk_like",{redesign:1,type:"mini",height:20}),$("#__vk_subscribe").length&&VK.Widgets.Subscribe("__vk_subscribe",{mode:1,soft:1},-124481002)}),n("//web.archive.org/web/20170311090334/https://apis.google.com/js/api:client.js",null,function(){gapi.load("auth2",function(){GoogleAuth=gapi.auth2.init({client_id:"959425192138-qjq23l9e0oh8lgd2icnblrbfblar4a2f.apps.googleusercontent.com"}),ot.g.z()})}),n("//web.archive.org/web/20170311090334/https://platform.twitter.com/widgets.js","twitter-wjs"),n("//web.archive.org/web/20170311090334/https://vk.com/js/api/share.js?90"),n("//web.archive.org/web/20170311090334/https://apis.google.com/js/platform.js"),n("//web.archive.org/web/20170311090334/https://www.googletagservices.com/tag/js/gpt.js",null,function(){googletag.cmd.push(function(){googletag.defineSlot(i.A,[300,250],"googletag-div").addService(googletag.pubads()),googletag.pubads().enableSingleRequest(),googletag.enableServices()}),googletag.cmd.push(function(){googletag.display("googletag-div")})}),n("//web.archive.org/web/20170311090334/https://static.xsolla.com/embed/paystation/1.0.7/widget.min.js")},0);var ot=function(){function t(){var t=m.g.B(),n=I.val(),e=m.b.C();ot.u.D(n,e,t)&&(ot.q.F(),ot.g.f()||(l(n),g(ot.b.C())))}function n(t,n){var a=void 0,r=void 0,c=void 0;if(n>=1&&n<=10?(r=i18n("index.game.result.place.i"+n),c=i18n("index.game.result.placeInBoard"),a=i18n("index.game.social.shareResult.messGood").replace("{0}",I.val()).replace("{1}",t).replace("{2}",r)):(r="",c=i18n("index.game.result.tryHit"),a=i18n("index.game.social.shareResult.messNorm").replace("{0}",I.val()).replace("{1}",t)),z.html(i18n("index.game.result.your")),Y.html(t),H.html(r),B.html(c),i.r){var s=i18n("index.game.result.share");i18n("index.game.social.shareResult.caption");R.empty().append(e(s,"https://web.archive.org/web/20170311090334/https://wormate.io","wormate.io",a,a,"https://web.archive.org/web/20170311090334/https://wormate.io/images/og-share-img-new.jpg")),P.empty().append(o(s,"https://web.archive.org/web/20170311090334/https://wormate.io","wormate.io",a,a,"https://web.archive.org/web/20170311090334/https://wormate.io/images/og-share-img-new.jpg"))}ot.q.G()}var u=0,p=0,b=!1,M=parseInt(getCookie("prerollCount"));M>=0&&M<=4||(M=3);var m={};return m.H=v,m.I=i,m.J=a,m.K={},m.L=function(t){var n=ot.g.B();$.get(ot.J+"/pub/wuid/"+n+"/start?nickname="+encodeURI(I.val())+"&skinId="+encodeURI(ot.b.C()),function(n){t(n.server_url)})},m.u=_p__Engine(m,$("#game-canvas"),$("#background-canvas"),i18n),m.q=_p__UiStateManager(m),m.M=_p__PopupManager(m),m.e=_p__MainMenuManager(m),m.b=_p__PropertyManager(m),m.N=_p__StoreManager(m),m.g=_p__UserManager(m),m.O=function(){s.O(function(){setCookie("prerollCount",M=0,30),t()}),m.u.P=function(){ot.q.Q()},m.u.R=function(t){if(m.o(!1),!t){try{googletag.pubads().refresh()}catch(t){}return void ot.q.p()}var e=Math.floor(m.u.S()),a=m.u.T();return m.g.f()?void m.g.U(function(){n(e,a)}):void n(e,a)},m.u.V=function(t){var n=Math.atan2(p-.5*nt.offsetHeight,u-.5*nt.offsetWidth);t(n,b)},m.u.O(function(){ot.q.O(),ot.M.O(),ot.e.O(),ot.b.O(),ot.N.O();var t=ot.u.W("skin-view",q);ot.b.X(function(){t.Y(ot.b.C())}),t.Z(!0);var n=ot.u.W("store-view",tt);ot.N.$(function(){n.Y(ot.N.C())}),n.Z(!0),ot.g._(function(){ot.e.aa()}),ot.g.ba(function(){y.toggle(ot.g.f()),w.toggle(!ot.g.f()),k.toggle(!ot.g.f()),S.toggle(ot.g.f()),j.toggle(ot.g.f()),C.toggle(ot.g.f()),ot.g.f()?(D.hide(),V.html(ot.g.ca()),G.attr("src",ot.g.da()),F.html(ot.g.ea()),W.width(100*ot.g.fa()/ot.g.ga()+"%"),K.html(ot.g.fa()+" / "+ot.g.ga()),J.html(ot.g.ha()),I.val(ot.g.ia()),ot.b.ja(ot.g.ka())):(D.toggle(i.r&&!r()),V.html(V.data("guest")),G.attr("src",GUEST_AVATAR_URL),F.html("10"),W.width("0"),K.html(""),J.html(1),I.val(f()),ot.b.ja(h()))}),d(),ot.g.O(),ot.q.p()})},m.o=function(t){return b=t},m.s=function(t,n){u=t,p=n},m.c=function(){return setCookie("prerollCount",M+=1,30),!c&&M>=5?(ot.q.la(),void s.ma()):void t()},m}();$.get(a+"/pub/assets/assets.json",function(t){ot.K=t,ot.O()}),$(function(){FastClick.attach(document.body)}),p(),$(window).resize(p)}var a=atob("aHR0cHM6Ly9nYXRld2F5Lndvcm1hdGUuaW8="),o={};o.main={A:"/421469808/WRM_wormate.io_300x250",na:"//web.archive.org/web/20170311090334/https://api.adinplay.com/player/v2/WRM/wormate.io/player.min.js",r:!0,oa:"main"},o.miniclip={A:"/421469808/WRM_wormate.io_300x250-MC",na:"//web.archive.org/web/20170311090334/https://api.adinplay.com/player/v2/WRM/miniclip.wormate.io/player.min.js",r:!1,oa:"miniclip"};var i=o[window.ENV];i||(i=o.main);var r={pa:function(){var t=null,e={};return e.O=function(e){n(i.na,null,function(){"undefined"!=typeof aipPlayer&&(t=new aipPlayer({AD_WIDTH:960,AD_HEIGHT:540,AD_FULLSCREEN:!0,PREROLL_ELEM:document.getElementById("preroll"),AIP_COMPLETE:e}))})},e.ma=function(){t&&t.startPreRoll()},e}(),qa:function(){var t=function(){},n={};return n.O=function(n){t=n},n.ma=function(){setTimeout(t,1)},n}()},c=!1,s=r.pa;window.onerror=function(t,n,e,a,o){var i=o?o.stack:"[no stack]";return"undefined"!=typeof $&&$.get(app.J+"/pub/error.jpg?m="+encodeURI(t)+"&u="+encodeURI(n)+"&ln="+encodeURI(e)+"&cn="+encodeURI(a)+"&s="+encodeURI(i),function(){}),!1},window.addEventListener("load",function(){e()});try{var u="background:#000",f="color:#",l=f+"FFC107;"+u,g=f+"26C6DA;"+u,h=f+"FFEB3B;"+u,d=f+"8BC34A;"+u,p=f+"CDDC39;"+u;console.log("A  `-.TTTTTT`-::`  AT  .:/:-`T A -/.`-:///:.`T AT  ..TT  .T  ATTT..TAT `.-------..``TA  ``.`````````TTTTTTTTT\nA sNMMd-TTTTToN@N- A  :yN@MMNy-  A.@@@MMNy-  AT.hMMd.T /mMd`TATT /mMMm/ A`odN@@@@Mmh/A`yN@MMNNN@oTTTTTTTT  \nA/@MMN-TTTT :@@s A.h@@@MM/  AN@No:-:sN@+ ATd@Mm. `y@MyTATTs@@s:AN@@@@NNNNmoAs@MNNNNNNNNh-TTTTTTTT  \nA-@@mTTTT +@@y`Am@MmddN@MM- Ad@sT  +@N A  /@@Nym@@.  AT  o@@MMo.A:////o@Md:.--.` Ay@h-..----`TTTTTTTTT \nA d@@/TTTT+@@+Ay@N+`  .h@My Ah@d.T`y@d A  h@N@@N@Ms  AT /@M+N@M:T  A s@-TT As@-TTTTT A +hhy-AT./shhhs/.  \nA -N@MMdTTTT+@@-A@MoT  -@Md Ah@Mmhyhm@d- A .@m-sNMNd/.@MN  AT-N@o +@MN.T A .@`TT A+@+``.-/+/.TT  A.@MyA `sN@@MN+ \nA  +@@-TTT  y@MMyA:@M:T  .@Mm Am@@@mo-`  A s@o  -:-` `@MM: A  .m@Nsym@MMhT A .@:TT Ay@Mmdm@MhTT  A`@M/A hMMNs::+N@/\nATs@MMyT`oys`  .N@MM-A:@M+T  +@MhA`@My/yNMMNh-TA N@sTT /@MMy A .m@MNMMNm@MM/TA -@dTT Ad@Nsshddhs-TT  A h@:A:@oT +@h\nAT y@MM/ .d@d-:d@MMo A`@MN:T:N@M/Ao@Mo  -d@m`  A-@MN.TTs@MMm A.m@Mm.--.`N@MN`  A o@M/TTA@M/T `TTT  A y@sAo@:T +@h\nAT `s@MNsm@MMNN@MMy  A s@MNdhdN@MhA`N@MdT-@Mm: A/@MMm`T  h@@`Ad@MMoT  s@MMo  A N@MdTTA@Mo.`.----.  A `..  A N@dA/@h`  .m@+\nATTo@@Md+h@@Ms`  A  oN@@@Ns`A.@MMhT N@MMyA/@@yT  s@@:A@MMm`T  `m@Md  A.@@TTAN@MNNNNNNNNd.A-mNNm:A-@MmA`d@NhhN@h`\nATT :dMMNh/T-yNMNh:T AT.+ymNNNdy+.TAy@m-T :m@NsA yN@N+T  `h@Mo`Ah@h.TT .h@o  A sNMMNoTTAo@NN@@Md`A-mMMN-A`d@oA `od@@h/  \nATTT..`TT  ``TTATTTTTTA`.`TT  .-.` A  `.--`TT  `..`  A `.`TTT  .-.TA  `..`TT A ````````..``  A  `.  A  .-. AT `-:-.`T \n".split("@").join("MMM").split("T").join("   ").split("A").join("%c"),l,g,h,d,g,l,p,l,g,h,d,g,l,p,l,g,h,d,g,l,p,l,g,h,d,g,l,p,l,g,h,d,g,l,p,l,g,l,g,h,d,g,l,p,l,g,l,g,h,d,g,l,p,l,g,l,g,h,d,g,l,p,l,g,l,g,h,d,g,l,p,l,g,l,g,h,d,g,l,p,d,l,g,l,g,h,d,g,l,p,d,l,g,l,g,h,d,g,l,p,d,l,g,l,g,h,d,g,l,p,d,l,g)}catch(t){}}();var _p__Engine,DEBUG_MODE=!1;!function(t){function n(t){return t%=h,t<0?t+h:t}function e(t,n,e){return e>n?n:e<t?t:Number.isFinite(e)?e:.5*(t+n)}function a(t){try{var n=function(){var n=t.getContext("2d");return n.pathCircle=function(t,e,a){n.beginPath(),n.arc(t,e,a,0,h),n.closePath()},n.pathSector=function(t,e,a,o,i,r){n.beginPath(),n.arc(t,e,a,o,i,r)},n.drawRegion=function(t,e,a,o,i){return n.drawImage(t.ra,t.sa,t.ta,t.ua,t.va,e-o,a-i,2*o,2*i)},{v:n}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}catch(t){}return null}function o(t){var n=v[t];return n?n:b}function i(t){var n=M[t];return n?n:m}function r(t){var n=A[t];return n?n:T}function c(t,n){for(var e=t.length,a=new Array(t.length),o=0;o<t.length;o++){var i=a[o]=new Image;i.onload=function(){0==--e&&n(a)},i.src=t[o]}}function s(t,n){for(var e=t.length,a={},o=0;o<t.length;o++){var i=t[o],r=a[i.name]=new Image;r.onload=function(){0==--e&&n(a)},r.src=i.src}}function u(t,n,e,a){var o=parseInt(a.substring(1,3),16),i=parseInt(a.substring(3,5),16),r=parseInt(a.substring(5,7),16),c=l.createElement("canvas");c.width=n,c.height=e;var s=c&&c.getContext?c.getContext("2d"):null;s.clearRect(0,0,n,e),s.drawImage(t,0,0,n,e);for(var u=s.getImageData(0,0,n,e),f=n*e,g=0;g<f;g++)u.data[4*g]*=o/256,u.data[4*g+1]*=i/256,u.data[4*g+2]*=r/256;return s.putImageData(u,0,0),c}var f=!1,l=t.document,g=200,h=2*Math.PI,d=void 0,p=void 0,v={},b=void 0,M={},m=void 0,A={},T=void 0,I=void 0;_p__Engine=function(y,w,k,N){function C(t){var n=void 0;n=t>0?"+"+t:t<0?"-"+t:"0";var e=Math.min(1,.5+t/600),a=void 0;a=t<15?"#ffffff":t<165?"#f4d100":t<500?"#ed563f":"#f900f9";var o=Math.random(),i=1+.5*Math.random();return new ht(n,(!0),e,a,o,i)}function j(t){var n=t?"HEADSHOT":"KILL",e=t?1.5:1,a=t?"#ed563f":"#ffffff",o=.5,i=t?1:1.5;return new ht(n,(!1),e,a,o,i)}function S(t,n,e){var a=255&e|n<<8&65280|t<<16&16711680;return 1e4*((16777215&a)/8388608-1)}function L(t){return((65535&t)/32768-1)*At}function x(t){return((t>>16&65535)/32768-1)*At}function D(t,n){var e=t.getInt8(n);if(0==(128&e))return e;var a=t.getInt8(n+1);if(0==(128&a))return a|e<<7&16256;var o=t.getInt8(n+2);if(0==(128&o))return o|a<<7&16256|e<<14&2080768;var i=t.getInt8(n+3);return 0==(128&i)?i|o<<7&16256|a<<14&2080768|e<<21&266338304:void 0}function E(t){return t<128?1:t<16384?2:t<2097152?3:t<268435456?4:void 0}function O(){zt==Rt&&(zt=Pt,lt.P())}function _(){zt!=Rt&&zt!=Pt||!function(){zt=$t;var t=Ct;setTimeout(function(){t==Ct&&null!=t&&(Ct.close(),Ct=null)},5e3),lt.R(!0)}()}function U(){zt!=Rt&&zt!=Pt||(Ct=null,Mt=[],zt=$t,lt.R(!1))}function R(t,n){var e=Ct=new WebSocket(t);e.binaryType="arraybuffer",e.safeSend=function(t){e&&1===e.readyState?e.send(t):setTimeout(function(){e.safeSend(t)},100)},e.onopen=function(){Ct==e&&(console.log("Socket opened"),n())},e.onclose=function(){Ct==e&&(System.out.println("Socket closed"),U())},e.onerror=function(t){Ct==e&&(System.out.println("Socket error"),U())},e.onmessage=function(t){Ct==e&&Mt.push(new DataView(t.data))}}function P(t,n){return Ft.wa=t.getInt16(n),n+=2,mt=t.getFloat32(n),n+=4,At=1.02*mt,Tt=t.getFloat32(n),n+=4,It=t.getFloat32(n),n+=4}function z(t,n){wt=t.getInt16(n),n+=2,yt=Date.now()+wt;var e=void 0;e=D(t,n),n+=E(e);for(var a=0;a<e;a++)n=F(t,n);e=D(t,n),n+=E(e);for(var o=0;o<e;o++)n=W(t,n);e=D(t,n),n+=E(e);for(var i=0;i<e;i++)n=K(t,n);e=D(t,n),n+=E(e);for(var r=0;r<e;r++)n=Y(t,n);e=D(t,n),n+=E(e);for(var c=0;c<e;c++)n=H(t,n);e=D(t,n),n+=E(e);for(var s=0;s<e;s++)n=V(t,n);e=D(t,n),n+=E(e);for(var u=0;u<e;u++)n=Q(t,n);e=D(t,n),n+=E(e);for(var f=0;f<e;f++)n=B(t,n);return n=G(t,n),O(),n}function Y(t,n){var e=t.getInt16(n);n+=2;var a=e==Ft.wa?Ft:qt[e]=new gt(e);a.Y(t.getInt16(n)),n+=2;var o=t.getInt8(n);n+=1;for(var i="",r=0;r<o;r++)i+=String.fromCharCode(t.getInt16(n)),n+=2;return a.xa(i),n}function H(t,n){var e=t.getInt16(n);n+=2;var a=e==Ft.wa?Ft:qt[e];return"undefined"!=typeof a&&(a.ya=!1),n}function B(t,n){var e=t.getInt16(n);n+=2;var a=qt[e],o=!!(1&t.getInt8(n)),i=!!(2&t.getInt8(n));if(n+=1,i){var r=t.getFloat32(n);n+=4,a&&a.za(r)}var c=S(t.getInt8(n++),t.getInt8(n++),t.getInt8(n++)),s=S(t.getInt8(n++),t.getInt8(n++),t.getInt8(n++));a&&a.Aa(c,s,o);var u=D(t,n);if(n+=E(u),a)for(var f in a.Ba){var l=a.Ba[f];l&&(l.Ca=!1)}for(var g=0;g<u;g++){var h=t.getInt8(n);n++;var d=t.getInt8(n);if(n++,a){var p=a.Ba[h];p||(p=a.Ba[h]=new pt(h)),p.Ca=!0,p.Da=Math.min(1,Math.max(0,d/100))}}return n}function G(t,n){var e=!!(1&t.getInt8(n)),a=!!(2&t.getInt8(n)),o=!!(4&t.getInt8(n));if(n+=1,a){var i=Ft.Ea;Ft.za(t.getFloat32(n)),n+=4,i=Ft.Ea-i,i>0&&Gt.Fa(i)}o&&(fn=t.getFloat32(n),n+=4),Ft.Aa(S(t.getInt8(n++),t.getInt8(n++),t.getInt8(n++)),S(t.getInt8(n++),t.getInt8(n++),t.getInt8(n++)),e);var r=D(t,n);n+=E(r);for(var c in Ft.Ba){var s=Ft.Ba[c];s&&(s.Ca=!1)}for(var u=0;u<r;u++){var f=t.getInt8(n);n++;var l=t.getInt8(n);n++;var g=Ft.Ba[f];g||(g=Ft.Ba[f]=new pt(f)),g.Ca=!0,g.Da=Math.min(1,Math.max(0,l/100))}}function V(t,n){var e=t.getInt16(n);n+=2;var a=e==Ft.wa?Ft:qt[e],o=t.getFloat32(n);n+=4;var i=D(t,n);return n+=E(i),a?(a.za(o),a.Ga(function(e){return S(t.getInt8(n++),t.getInt8(n++),t.getInt8(n++))},i),a.Ha=!0):n+=6*i,n}function Q(t,n){var e=t.getInt16(n);n+=2;var a=qt[e];return a&&a.ya&&(a.Ha=!1),n}function F(t,n){var e=t.getInt32(n);n+=4;var a=S(t.getInt8(n++),t.getInt8(n++),t.getInt8(n++)),o=t.getInt8(n++),i=new vt(e);return i.Ia(1),i.Ja(a),i.Ka(L(e),x(e),!0),i.Y(o),Zt[e]=i,n}function W(t,n){var e=t.getInt32(n);n+=4;var a=Zt[e];return a&&(a.Ia(0),a.Ja(1.5*a.La()),a.Ma(!0)),n}function K(t,n){var e=t.getInt32(n);n+=4;var a=t.getInt16(n);n+=2;var o=Zt[e];if(o){o.Ia(0),o.Ja(.1*o.La()),o.Ma(!0);var i=a==Ft.wa?Ft:qt[a];i&&i.Ha&&o.Ka(i.Na[0],i.Na[1],!1)}return n}function J(t){for(var n=Ut&&Ut.getContext?Ut.getContext("2d"):null,e=n.getImageData(0,0,80,80),a=628,o=ln[0],i=80-o,r=0,c=0;c<a;c++)for(var s=t.getInt8(1+c),u=0;u<8;u++){var f=0!=(s>>u&1),l=4*(o+80*r);f?(e.data[l]=255,e.data[l+1]=255,e.data[l+2]=255,e.data[l+3]=255):e.data[l+3]=0,++o>=i&&++r<80&&(o=ln[r],i=80-o)}n.putImageData(e,0,0)}function X(t,n){var e=t.getInt32(n);n+=4,console.log("Wormy Error: "+e)}function Z(t,n){_()}function q(t,n){t.getInt16(n);n+=2;0!=t.getInt8(n);n+=1}function tt(t,n){Qt=t.getInt16(n),n+=2,Vt=t.getInt16(n),n+=2;for(var e=t.getInt8(n++),a=0;a<e;a++){var i=t.getInt16(n);n+=2;var r=t.getFloat32(n);n+=4;var c=i==Ft.wa?Ft:qt[i];if(c){kt[a].Oa=!0,kt[a].Pa=c==Ft,kt[a].Qa=c.Ra(),kt[a].Ea=Math.floor(r);var s=o(c.ka());kt[a].Sa=s.Ta}}for(var u=e+1;u<10;u++)kt[u].Oa=!1}function nt(t,n){if(ft&&(Et.setTransform(1,0,0,1,0,0),Et.fillStyle="#000000",Et.fillRect(0,0,ft.width,ft.height),I)){Et.save(),Et.globalCompositeOperation="normal";for(var e=.8*Math.max(ft.width,ft.height),a=0;a<gn.length;a++){var o=gn[a],i=Math.cos(o.Ua*(8e-5*t)+o.Va),r=Math.sin(o.Wa*(8e-5*t));Et.globalAlpha=.2+.2*Math.cos(o.Va+o.Xa*(.001*t)),Et.drawImage(I[o.Ya],.5*ft.width+.4*i*ft.width-.5*e,.5*ft.height+.2*r*ft.height-.5*e,e,e)}Et.restore()}for(var c in Xt){var s=Xt[c];s&&s.Za()}}function et(t){function n(t,n,e,a,r){t=""+t,r||(r=o);var s=Dt.measureText(t).width;if(a>0)for(;s>a;)t=t.substring(0,t.length-1),s=Dt.measureText(t).width;switch(r){case o:return Dt.fillText(t,n,e),s;case i:return Dt.fillText(t,n+(a-s)/2,e),s;case c:return Dt.fillText(t,n+a-s,e),s}}var e=Ft.Na[0],a=Ft.Na[1],o=1,i=2,c=4;Dt.setTransform(tn,0,0,tn,0,0),Dt.clearRect(0,0,an,on),Dt.save(),Dt.globalAlpha=.8,Dt.fillStyle="#000000",Dt.strokeStyle="#f7941d",Dt.lineWidth=2,Dt.pathCircle(Ot+_t,Ot+_t,_t),Dt.fill(),Dt.stroke(),Dt.lineWidth=2,Dt.beginPath(),Dt.moveTo(Ot+_t,Ot),Dt.lineTo(Ot+_t,Ot+2*_t),Dt.closePath(),Dt.stroke(),Dt.beginPath(),Dt.moveTo(Ot,Ot+_t),Dt.lineTo(Ot+2*_t,Ot+_t),Dt.closePath(),Dt.stroke(),Dt.globalAlpha=.5,Dt.drawImage(Ut,Ot,Ot,2*_t,2*_t),Dt.globalAlpha=.5,Dt.fillStyle="#000000",Dt.pathCircle(Ot+_t+e/mt*_t,Ot+_t+a/mt*_t,.1*_t),Dt.fill(),Dt.globalAlpha=.9,Dt.fillStyle="#f7941d",Dt.pathCircle(Ot+_t+e/mt*_t,Ot+_t+a/mt*_t,.05*_t),Dt.fill();var s=130,u=30,l=.5+.5*Math.cos(h*(t/1e3/1.6%1));for(var g in Ft.Ba){var d=Ft.Ba[g];if(d&&d.Ca){var p=d.Da;Dt.globalAlpha=1-p+p*l;var v=r(d._a).$a;Dt.drawRegion(v,s,u,20,20),s+=40}}Dt.globalAlpha=.95;var b=void 0,M=void 0;Dt.font="12px PT Sans",b=an-225,M=17,Dt.fillStyle="#ffffff",Dt.globalAlpha=1,n(N("index.game.leader.top10"),b+28,M,105,o),Dt.globalAlpha=.6,n("("+Qt+" online)",b+140,M,80,c),M+=14;for(var m=0;m<10;m++){var A=kt[m];if(!A.Oa)break;A.Pa?(m>0&&(M+=8),Dt.fillStyle="#ffffff",Dt.globalAlpha=1):(Dt.fillStyle=A.Sa,Dt.globalAlpha=1),n(m+1,b,M,24,c),n(A.Qa,b+28,M,126,o),n(A.Ea,b+160,M,60,c),A.Pa&&(M+=10),M+=14}Vt>10&&(Dt.fillStyle="#ffffff",Dt.globalAlpha=1,M+=8,n(Vt,b,M,24,c),n(Ft.Qa,b+28,M,126,o),n(Math.floor(Ft.Ea),b+160,M,60,c));for(var T=an/2,I=0;I<Gt.ab.length;I++){var y=Gt.ab[I],w=y.bb;Dt.fillStyle=y.Sa,Dt.globalAlpha=.5*Math.sin(Math.PI*w),Dt.font=Math.floor(48*y.cb)+"px PT Sans";var k=an*(.25+.5*y.db),C=y.eb?.5*on*(1-w):.5*on*(2-w);n(y.fb,k-.5*T,C,T,i)}f&&(Dt.font="12px PT Sans",Dt.globalAlpha=.25,Dt.fillStyle="white",n("fps: "+Math.floor(Ht)+"; "+tn.toFixed(1),5,on-5,an-10,c)),Dt.restore()}function at(t){function n(n){if(n){var e=n.gb,a=.1*Math.PI,i=t/400*Math.PI,r=n.ya?.125:.25,c=n.hb,s=o(n.ka()),u=s.ib,f=s.$a;xt.save(),xt.globalAlpha=n.jb;var l=4*n.kb-3,g=void 0,h=void 0,d=void 0,v=void 0;g=n.Na[3*l-3],h=n.Na[3*l-2],v=e*(1.4+c*r+.15*c*Math.cos((l-1)*a-i)),xt.drawRegion(u[(l-1)%u.length],g,h,v,v);for(var b=l-1;b>=1;b--)g=n.Na[3*b-3],h=n.Na[3*b-2],v=e*(1.4+c*r+.15*c*Math.cos((b-1)*a-i)),xt.drawRegion(u[(b-1)%u.length],g,h,v,v),g=n.Na[3*b],h=n.Na[3*b+1],d=n.Na[3*b+2],xt.save(),xt.translate(g,h),xt.rotate(d),xt.drawRegion(f[b%f.length],0,0,e,e),xt.restore();g=n.Na[0],h=n.Na[1],d=n.Na[2],xt.save(),xt.translate(g,h),xt.rotate(d),xt.drawRegion(f[0],0,0,e,e),xt.scale(e/32,e/32),xt.drawImage(p,2,-20,33,40),xt.restore(),xt.restore()}}function a(t){if(t){var n=t.Na[0],e=t.Na[1];xt.save(),xt.globalAlpha=.6*t.jb,xt.font="20px PT Sans",xt.fillStyle=o(t.ka()).Ta,xt.translate(n,e+3*t.gb),xt.scale(.015,.015),xt.fillText(t.Ra(),0,0),xt.restore()}}function r(t,n){if(!(t.lb<.05)){var a=(n?.65:1)*Math.min(4,t.mb),o=i(t.ka()).ib,r=t.nb.x,c=t.nb.y;xt.globalAlpha=e(0,1,(n?.9:.3)*t.jb),xt.drawRegion(o,r,c,a,a)}}function c(t,n){var a=n?.6:Math.min(.5,t.lb),o=i(t.ka()).$a,r=t.nb.x,c=t.nb.y;xt.globalAlpha=e(0,1,t.jb),xt.drawRegion(o,r,c,a,a)}var s=Ft.Na[0],u=Ft.Na[1];xt.setTransform(1,0,0,1,0,0),xt.clearRect(0,0,rn,cn);var f=sn*tn;xt.save(),xt.globalAlpha=.3,xt.fillStyle=St,xt.setTransform(jt*f,0,0,jt*f,.5*rn-s*f,.5*cn-u*f),xt.fillRect(-(.5*an-s)/jt,-(.5*on-u)/jt,an/jt,on/jt),xt.restore(),xt.setTransform(f,0,0,f,.5*rn-s*f,.5*cn-u*f),Yt&&(xt.save(),xt.setTransform(1,0,0,1,0,0),xt.globalCompositeOperation="lighter",xt.fillStyle="hsl("+Math.floor(nn)+", 100%, 75%)",xt.globalAlpha=.1,xt.fillRect(0,0,rn,cn),xt.restore()),xt.save(),xt.globalAlpha=.3,xt.strokeStyle="red",xt.lineWidth=.2,xt.beginPath(),xt.moveTo(mt,0);for(var l=0;l<=160;l++){var g=h*l/160;xt.lineTo(mt*Math.cos(g),mt*Math.sin(g))}xt.closePath(),xt.stroke(),xt.restore(),xt.save(),xt.globalCompositeOperation="lighter";for(var d in Zt){var v=Zt[d];v&&r(v,v.ka()>=80)}xt.globalCompositeOperation="source-over";for(var b in Zt){var M=Zt[b];M&&c(M,M.ka()>=80)}xt.restore(),n(Ft);for(var m in qt){var A=qt[m];A&&A.Ha&&(n(A),a(A))}xt.setTransform(1,0,0,1,0,0),xt.drawImage(Lt,0,0,rn,cn)}function ot(t,n){Ft.ob(t,n);for(var e in qt){var a=qt[e];a&&a.Ha&&a.ob(t,n),!a.ya&&a.jb<.005&&delete qt[a.wa]}for(var o in Zt){var i=Zt[o];i.ob(t,n),i.pb&&i.jb<.005&&delete Zt[i.wa]}Gt.qb(t,n)}function it(){for(var t=void 0,n=0;n<10;n++){if(!(t=Mt.shift()))return;var e=255&t.getInt8(0);switch(e){case 0:return void P(t,1);case 1:return void z(t,1);case 2:return void J(t,1);case 3:return void tt(t,1);case 4:return void X(t,1);case 5:return void Z(t,1);case 6:return void q(t,1)}}}function rt(){function t(){requestAnimationFrame(t);var e=Date.now(),a=e-n;ct(e,a),n=e}var n=Date.now();t()}function ct(t,n){it(),zt!=$t&&zt!=Rt||nt(t,n),Ct&&(ot(t,n),un=4+fn*Ft.gb,sn=e(5,500,sn+n/1e3*(en/un-sn)),nn+=.01*n,nn>360&&(nn%=360),at(t),et(t));for(var a=1e3/Math.max(1,n),o=0,i=0;i<9;i++)o+=Bt[i],Bt[i]=Bt[i+1];Bt[9]=a,Ht=(o+a)/10}function st(t){function n(){0==--a&&t()}function e(t,n){for(var e in t)t.hasOwnProperty(e)&&n(e,t[e])}var a=4;c(["data:image/png;base64,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"],function(t){
p=t[0],n()}),c(["*/images/bg-pattern.png"],function(t){d=t[0],n()}),c(["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABwUlEQVRIS73VB2sWQRDG8d/aoth7R7HEgt//k4hdUexGjSaR2OLKI3PhXmMB4RwYbt/b9+a/88zsbjOxtb/F773nP5tGnk++Dd5a63+K8VtA7z1Bt2Ib5mq8uYKt4Qs+4XPGrbVAN9gvAb33LdiBXeU7sR15H/uKj/iAlfLV1lrez9gGQO89q96NfTiA/diLQDIXy+oT/D0W8RbvsNxay9y6zQBq5XtwEEdxDEcKFGikikWa5Qr8Ci/wEm+wNM5kHVCaZ5WHcQKnyzM+hIDHgCW8xjM8Ls94IdkNNRkD8nEkOYmzOFfPUwUNIAWPpbABJNgTPMSDej5NZq21ZOkHoFoxBY0kCX4R8wUJIBlkflyDFDcZBJDgd3C3IJFsJS08ANJ+KWaCXcDl8vOVUebSVWndWFpytQqcFd/HrfJ7BV1sra0NgKwsqzyDS7iKKwjgeOk/7IGhQ7IXItPzAtzEDdzGo2SXjhoA0T/FjTxZ/bUCpA6RLcX/uaWzg9OqkSMSBXC9skhNFlKH/waYXKLJixyppmvT2gvTbbQCpMenOyoKkuN4msNu2D2THtcjyHQXzggy3ZU5vpEmu/Rnb9Z///UddRYCKBhTvLwAAAAASUVORK5CYII="],function(t){var e=t[0],a=new Array(9);a[0]=u(e,8,8,"#ff66aa"),a[1]=u(e,8,8,"#ff8888"),a[2]=u(e,8,8,"#ffaa66"),a[3]=u(e,8,8,"#aaff66"),a[4]=u(e,8,8,"#88ff88"),a[5]=u(e,8,8,"#66ffaa"),a[6]=u(e,8,8,"#66aaff"),a[7]=u(e,8,8,"#8888ff"),a[8]=u(e,8,8,"#aa66ff"),I=a,n()});var o=y.K,i=[];e(o.textureDict,function(t,n){return i.push({name:t,src:y.J+n.url})}),s(i,function(t){var a={};e(o.colorDict,function(t,n){a[t]=n});var i={};e(o.regionDict,function(n,e){i[n]={ra:t[e.texture],sa:e.x,ta:e.y,ua:e.w,va:e.h}});for(var r=0;r<o.skinArrayDict.length;r++){var c=o.skinArrayDict[r];v[c.id]={Ta:"#"+a[c.prime],$a:c.base.map(function(t){return i[t]}),ib:c.glow.map(function(t){return i[t]})}}var s=o.skinUnknown;b={Ta:"#"+a[s.prime],$a:s.base.map(function(t){return i[t]}),ib:s.glow.map(function(t){return i[t]})},e(o.portionDict,function(t,n){t=parseInt(t),M[t]={$a:i[n.base],ib:i[n.glow]}});var u=o.portionUnknown;m={$a:i[u.base],ib:i[u.glow]},e(o.abilityDict,function(t,n){t=parseInt(t),A[t]={$a:i[n.base]}});var f=o.abilityUnknown;T={$a:i[f.base]},n()})}_p__Engine=null;var ut=w.get()[0],ft=k.get()[0],lt={};lt.P=function(){},lt.R=function(){},lt.V=function(){};for(var gt=function(){function t(t){this.wa=t,this.Qa="",this.Ha=!1,this.ya=!0,this.rb=!1,this.sb=0,this.jb=1,this.hb=0,this.Ea=0,this.Ba={},this.tb=0,this.kb=0,this.ub=new Float32Array(2*g),this.vb=new Float32Array(2*g),this.wb=new Float32Array(2*g),this.Na=new Float32Array(3*(4*g-3)),this.gb=0,this.xb=0,this.za(.25)}return t.prototype.za=function(t){this.Ea=50*t;var n=t>Tt?Math.atan((t-Tt)/It)*It+Tt:t,e=Math.sqrt(4*Math.pow(5*n,.707106781186548)+25),a=Math.min(g,Math.max(3,5*(e-5)+1)),o=this.kb;if(this.gb=.025*(5+.9*e),this.kb=Math.floor(a),this.xb=a-this.kb,o>0&&o<this.kb)for(var i=this.ub[2*o-2],r=this.ub[2*o-1],c=this.vb[2*o-2],s=this.vb[2*o-1],u=this.wb[2*o-2],f=this.wb[2*o-1],l=o;l<this.kb;l++)this.ub[2*l]=i,this.ub[2*l+1]=r,this.vb[2*l]=c,this.vb[2*l+1]=s,this.wb[2*l]=u,this.wb[2*l+1]=f},t.prototype.Ga=function(t,n){this.tb=yt,this.kb=n;for(var e=0;e<this.kb;e++)this.wb[2*e]=this.vb[2*e]=this.ub[2*e]=t(),this.wb[2*e+1]=this.vb[2*e+1]=this.ub[2*e+1]=t()},t.prototype.Ra=function(){return this.Qa},t.prototype.xa=function(t){this.Qa=t},t.prototype.ka=function(){return this.sb},t.prototype.Y=function(t){this.sb=t},t.prototype.Aa=function(t,n,e){this.tb=yt,this.rb=e;var a=this.kb,o=this.ub,i=this.vb;this.yb(t,n,a,o);for(var r=0;r<this.kb;r++)i[2*r]=o[2*r],i[2*r+1]=o[2*r+1]},t.prototype.yb=function(t,n,e,a){var o=a[0],i=void 0,r=a[1],c=void 0,s=Math.hypot(o-t,r-n);if(s>0){a[0]=t,a[1]=n;for(var u=this.gb/(this.gb+s),f=1-2*u,l=1,g=e-1;l<g;l++)i=a[2*l],a[2*l]=a[2*l-2]*f+(i+o)*u,o=i,c=a[2*l+1],a[2*l+1]=a[2*l-1]*f+(c+r)*u,r=c;u=this.xb*this.gb/(this.xb*this.gb+s),f=1-2*u,a[2*e-2]=a[2*e-4]*f+(a[2*e-2]+o)*u,a[2*e-1]=a[2*e-3]*f+(a[2*e-1]+r)*u}},t.prototype.ob=function(t,n){var a=e(.1,1,n/400);this.jb=e(0,1,this.jb+a*((this.ya?this.rb?.6:1:0)-this.jb)),this.hb=e(0,1,this.hb+a*((this.ya?this.rb?1:0:1)-this.hb));var o=this.vb,i=this.wb,r=this.Na,c=this.kb;if(this.ya&&this.Ha){if(this.tb>0){for(;t>this.tb;){var s=95;this.tb+=s;var u=o[0]-o[2],f=o[1]-o[3],l=Math.hypot(u,f),g=o[0]+u/l*(this.rb?8:4)*s/1e3,h=o[1]+f/l*(this.rb?8:4)*s/1e3;this.yb(g,h,c,o)}for(var d=Math.min(.5,1*n/(this.tb-t+n)),p=0;p<c;p++)i[2*p]+=d*(o[2*p]-i[2*p]),i[2*p+1]+=d*(o[2*p+1]-i[2*p+1])}var v=-.0703125,b=-.0625,M=-.0234375,m=.8671875,A=.5625,T=.2265625,I=2*v+m,y=2*b+A,w=2*M+T,k=T-v,N=A-b,C=m-M,j=void 0,S=void 0,L=void 0,x=void 0,D=void 0,E=void 0,O=void 0,_=void 0,U=0;j=i[0],D=i[1],S=i[2],E=i[3],L=i[4],O=i[5],r[U++]=j,r[U++]=D,U++,r[U++]=I*j+k*S+M*L,r[U++]=I*D+k*E+M*O,U++,r[U++]=y*j+N*S+b*L,r[U++]=y*D+N*E+b*O,U++,r[U++]=w*j+C*S+v*L,r[U++]=w*D+C*E+v*O,U++;for(var $=0;$<c-3;$++)j=i[2*$],D=i[2*$+1],S=i[2*$+2],E=i[2*$+3],L=i[2*$+4],O=i[2*$+5],x=i[2*$+6],_=i[2*$+7],r[U++]=S,r[U++]=E,U++,r[U++]=v*j+m*S+T*L+M*x,r[U++]=v*D+m*E+T*O+M*_,U++,r[U++]=b*j+A*S+A*L+b*x,r[U++]=b*D+A*E+A*O+b*_,U++,r[U++]=M*j+T*S+m*L+v*x,r[U++]=M*D+T*E+m*O+v*_,U++;j=i[2*c-6],D=i[2*c-5],S=i[2*c-4],E=i[2*c-3],L=i[2*c-2],O=i[2*c-1],r[U++]=S,r[U++]=E,U++,r[U++]=v*j+C*S+w*L,r[U++]=v*D+C*E+w*O,U++,r[U++]=b*j+N*S+y*L,r[U++]=b*D+N*E+y*O,U++,r[U++]=M*j+k*S+I*L,r[U++]=M*D+k*E+I*O,U++,r[U++]=L,r[U++]=O,r[2]=Math.atan2(r[1]-r[4],r[0]-r[3]);for(var R=1,P=4*c-4;R<P;R++)r[3*R+2]=Math.atan2(r[3*R-2]-r[3*R+4],r[3*R-3]-r[3*R+3]);r[12*c-10]=Math.atan2(r[12*c-14]-r[12*c-11],r[12*c-15]-r[12*c-12])}},t}(),ht=function(){function t(t,n,e,a,o,i){this.fb=t,this.eb=n,this.cb=e,this.Sa=a,this.db=o,this.zb=i,this.bb=0}return t}(),dt=function(){function t(){this.ab=[],this.Ab=0}return t.prototype.Bb=function(t){this.ab.push(j(t))},t.prototype.Fa=function(t){if(this.Ab+=t,this.Ab>=1){var n=Math.floor(this.Ab);this.Ab-=n,this.ab.push(C(n))}},t.prototype.qb=function(t,n){for(var e=0;e<this.ab.length;){var a=this.ab[e];a.bb+=n/2e3*a.zb,a.bb>1&&(this.ab.splice(e,1),e--),e++}},t}(),pt=function(){function t(t){this._a=t,this.Ca=!1,this.Da=100}return t}(),vt=function(){function t(t){this.wa=t,this.sb=0,this.pb=!1,this.Cb={x:0,y:0},this.nb={x:0,y:0},this.Db=0,this.jb=1,this.Eb=0,this.lb=0,this.mb=0,this.Va=2*Math.PI*Math.random()}return t.prototype.La=function(){return this.Eb},t.prototype.Ja=function(t){this.Eb=t},t.prototype.Ka=function(t,n,e){this.Cb.x=t,this.Cb.y=n,e&&(this.nb.x=t,this.nb.y=n)},t.prototype.Ia=function(t){this.Db=t},t.prototype.ka=function(){return this.sb},t.prototype.Y=function(t){this.sb=t},t.prototype.Ma=function(t){this.pb=t},t.prototype.ob=function(t,n){var a=n/400;this.lb=this.lb+a*(this.Eb-this.lb);var o=(1.5+.3*Math.cos(this.Va+t/200))*this.Eb;this.mb=this.mb+2*a*(o-this.mb),this.jb=e(0,1,this.jb+2*a*(this.Db-this.jb));var i=2*n/1e3;this.nb.x=this.nb.x*(1-i)+this.Cb.x*i,this.nb.y=this.nb.y*(1-i)+this.Cb.y*i},t}(),bt=function(){function t(t){this.Fb=t,this.Gb=this.Fb.get()[0],this.Hb=a(this.Gb),this.Ib=0,this.Jb=0,this.Kb=0,this.Lb=0,this.Mb=new Float32Array(0),this.Ca=!1,this.sb=0}return t.prototype.Z=function(t){this.Ca=t},t.prototype.Y=function(t){this.sb=t},t.prototype.t=function(){this.Ib=this.Fb.width(),this.Jb=this.Fb.height(),this.Kb=tn*this.Ib,this.Lb=tn*this.Jb,this.Gb.width=this.Kb,this.Gb.height=this.Lb},t.prototype.Za=function(){if(this.Ca){var t=Date.now(),n=Math.min(24,Math.max(12,this.Jb/6)),e=Math.floor((this.Ib-2*n)/(.5*n)-1);3*e>this.Mb.length&&(this.Mb=new Float32Array(3*e));for(var a=0,i=0,r=0;r<e;r++){var c=a/240*2*Math.PI-t/200,s=n/18*Math.cos(c*(.1*n+16.2)/18)*Math.PI*.05;this.Mb[3*r]=.5*this.Ib-1.5*n-a,this.Mb[3*r+1]=-i,this.Mb[3*r+2]=s,a+=.5*n*Math.cos(s),i+=.5*n*Math.sin(s)}this.Hb.setTransform(1,0,0,1,0,0),this.Hb.clearRect(0,0,this.Kb,this.Lb),this.Hb.setTransform(tn,0,0,tn,.5*this.Kb,.5*this.Lb);for(var u=o(this.sb),f=u.ib,l=u.$a,g=1.4,h=e-1;h>=0;h--){var d=f[h%f.length];this.Hb.save(),this.Hb.translate(this.Mb[3*h],this.Mb[3*h+1]),this.Hb.rotate(this.Mb[3*h+2]),this.Hb.drawRegion(d,0,0,n*g,n*g),this.Hb.restore()}for(var v=e-1;v>=0;v--){var b=l[v%l.length];this.Hb.save(),this.Hb.translate(this.Mb[3*v],this.Mb[3*v+1]),this.Hb.rotate(this.Mb[3*v+2]),this.Hb.drawRegion(b,0,0,n,n),this.Hb.restore()}this.Hb.save(),this.Hb.translate(this.Mb[0],this.Mb[1]),this.Hb.rotate(this.Mb[2]),this.Hb.scale(n/32,n/32),this.Hb.drawImage(p,2,-20,33,40),this.Hb.restore()}},t}(),Mt=[],mt=500,At=1.02*mt,Tt=4e3,It=7e3,yt=0,wt=0,kt=new Array(10),Nt=0;Nt<10;Nt++)kt[Nt]={Oa:!1,Pa:!1,Qa:"",Ea:0,Sa:"#ffffff"};var Ct=void 0,jt=.016,St=void 0,Lt=l.createElement("canvas"),xt=void 0,Dt=void 0,Et=void 0,Ot=20,_t=40,Ut=l.createElement("canvas");Ut.width=80,Ut.height=80;var $t=0,Rt=1,Pt=2,zt=$t,Yt=!1,Ht=30,Bt=new Float32Array(10),Gt=new dt,Vt=500,Qt=500,Ft=new gt,Wt=0,Kt=!1,Jt=300,Xt={},Zt={},qt={},tn=2,nn=Math.floor(360*Math.random()),en=1,an=500,on=500,rn=500,cn=500,sn=100,un=40,fn=12.5,ln=[34,29,26,24,22,20,18,17,15,14,13,12,11,10,9,8,8,7,6,6,5,5,4,4,3,3,2,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,3,3,4,4,5,5,6,6,7,8,8,9,10,11,12,13,14,15,17,18,20,22,24,26,29,34],gn=[{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:1,Wa:2,Ya:0},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:1.5,Wa:1.5,Ya:1},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:2,Wa:1,Ya:2},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:3,Wa:2,Ya:3},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:2.5,Wa:2.5,Ya:4},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:2,Wa:3,Ya:5},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:5,Wa:4,Ya:6},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:4.5,Wa:4.5,Ya:7},{Va:h*Math.random(),Xa:.1+.4*Math.random(),Ua:4,Wa:5,Ya:8}];return lt.t=function(){tn=t.devicePixelRatio?t.devicePixelRatio:1,an=$(t).width(),on=$(t).height(),rn=tn*an,cn=tn*on,ut.width=Lt.width=rn,ut.height=Lt.height=cn,en=Math.min(Math.min(an,on),.625*Math.max(an,on)),ft&&(ft.width=tn*k.width()*.25,ft.height=tn*k.height()*.25);for(var n in Xt){var e=Xt[n];e&&e.t()}t.scrollTo(0,1)},lt.O=function(t){lt.Nb(0),xt=a(ut),Dt=a(Lt),Et=a(ft),st(function(){xt&&(St=xt.createPattern(d,"repeat")),t(),rt()}),setInterval(function(){lt.V(function(t,e){var a=e?128:0,o=n(t)/h*128&127,i=255&(a|o);if(Ct&&Jt!=i){var r=new ArrayBuffer(1),c=new DataView(r);c.setInt8(0,i),Ct.safeSend(r),Wt=t,Kt=e,Jt=i}})},100)},lt.D=function(t,n,e){if(t=""+t,zt!=$t)return!1;yt=0,qt={},Zt={},Ft.za(.25),Ft.xa(t),Ft.ya=!0,Ft.Ha=!0,null!=Ct&&(Ct.close(),Ct=null),zt=Rt;var a=Math.min(32,t.length),o=Math.min(2048,e.length);return y.L(function(i){var r=void 0;if("guest"===e){r=new ArrayBuffer(7+2*a);var c=new DataView(r),s=0;c.setInt8(s,129),s++,c.setInt16(s,2500),s+=2,c.setInt8(s,0),s++,c.setInt16(s,n),s+=2,c.setInt8(s,a),s++;for(var u=0;u<a;u++)c.setInt16(s,t.charCodeAt(u)),s+=2}else{r=new ArrayBuffer(6+2*o);var f=new DataView(r),l=0;f.setInt8(l,129),l++,f.setInt16(l,2500),l+=2,f.setInt8(l,1),l++,f.setInt16(l,o),l+=2;for(var g=0;g<o;g++)f.setInt16(l,e.charCodeAt(g)),l+=2}R(i,function(){Ct.safeSend(r)})}),!0},lt.W=function(t,n){var e=new bt(n);return Xt[t]=e,e.t(),e},lt.S=function(){return Ft.Ea},lt.T=function(){return Vt},lt.Nb=function(t){Yt=0==t},lt}}(window);var _p__MainMenuManager=function(t){function n(n){$.get(t.J+"/pub/leaders",function(t){V=t,o(null!=G?G:H.Ob),n()})}function e(n){var e=t.g.Pb();d.html(t.g.ca()),v.html(t.g.ea()),h.attr("src",t.g.da()),b.width(100*t.g.fa()/t.g.ga()+"%"),M.html(t.g.fa()+" / "+t.g.ga()),m.html(t.g.ha()),A.html(t.g.Qb()),T.html(timeSecsToIntervalText(t.g.Rb())),I.html(t.g.Sb()),y.html(t.g.Tb()),w.html(t.g.Ub()),k.html(timeSecsToIntervalText(t.g.Vb())),N.html(moment([e.year,e.month-1,e.day]).format("LL")),n()}function a(t){if(B!=t){B=t,_.stop(),_.fadeIn(100),B.Wb(function(){_.stop(),_.fadeOut(100)});for(var n in Y){var e=Y[n];e.Xb.removeClass("active"),e.Yb.removeClass("active")}B.Xb.addClass("active"),B.Yb.addClass("active")}}function o(t){G=t;for(var n in H){var e=H[n];e.Xb.removeClass("pressed")}G.Xb.addClass("pressed");for(var a=V[G.Zb],o="",i=0;i<a.length;i++){var r=a[i];o+='<div class="table-row"><span>'+(i+1)+'</span><span><img src="'+r.avatarUrl+'"/></span><span>'+r.username+"</span><span>"+r.level+"</span><span>"+r.highScore+"</span><span>"+r.headShots+" / "+r.kills+"</span></div>"}z.empty(),z.append(o)}_p__MainMenuManager=null;var i={},r=$("#main-panel"),c=$("#popup-panel"),s=$("#popup-close"),u=$("#popup-login-gg"),f=$("#popup-login-fb"),l=$("#popup-login-vk"),g=$("#popup-logout"),h=$("#profile-avatar"),d=$("#profile-username"),p=$("#profile-coins-cont"),v=$("#profile-coins"),b=$("#profile-experience-bar"),M=$("#profile-experience-val"),m=$("#profile-level"),A=$("#profile-stat-highScore"),T=$("#profile-stat-bestSurvivalTime"),I=$("#profile-stat-kills"),y=$("#profile-stat-headshots"),w=$("#profile-stat-gamesPlayed"),k=$("#profile-stat-totalTimeSpent"),N=$("#profile-stat-registrationDate"),C=$("#profile-tab-button"),j=$("#store-tab-button"),S=$("#leaders-tab-button"),L=$("#settings-tab-button"),x=$("#profile-tab"),D=$("#store-tab"),E=$("#leaders-tab"),O=$("#settings-tab"),_=$("#loading-tab"),U=$("#leaders-button-level"),R=$("#leaders-button-highscore"),P=$("#leaders-button-kills"),z=$("#highscore-table"),Y={$b:{_b:!0,Wb:e,Xb:C,Yb:x},ac:{_b:!0,Wb:n,Xb:S,Yb:E},bc:{_b:!0,Wb:function(t){t()},Xb:j,Yb:D},cc:{_b:!1,Wb:function(t){t()},Xb:L,Yb:O}},H={Ob:{Xb:U,Zb:"byLevel"},dc:{Xb:R,Zb:"byHighScore"},ec:{Xb:P,Zb:"byKillsAndHeadShots"}},B=null,G=null,V={};return i.O=function(){s.click(function(){return i.aa()}),p.click(function(){return t.e.l()});var n=function(t){var n=Y[t];n.Xb.click(function(){return a(n)})};for(var e in Y)n(e);u.click(function(){return t.g.fc()}),f.click(function(){return t.g.gc()}),l.click(function(){return t.g.hc()}),g.click(function(){return t.g.ic()}),U.click(function(){return o(H.Ob)}),R.click(function(){return o(H.dc)}),P.click(function(){return o(H.ec)}),t.g._(function(){u.toggle(!t.g.f()),f.toggle(!t.g.f()),l.toggle(!t.g.f()),g.toggle(t.g.f()),a(Y.cc);for(var n in Y){var e=Y[n];e._b&&e.Xb.toggle(t.g.f())}})},i.h=function(){a(Y.$b),c.fadeIn(300),r.fadeOut(300)},i.i=function(){a(Y.ac),c.fadeIn(300),r.fadeOut(300)},i.j=function(){t.N.jc(),a(Y.bc),c.fadeIn(300),r.fadeOut(300)},i.l=function(){t.N.kc(),a(Y.bc),c.fadeIn(300),r.fadeOut(300)},i.k=function(){t.N.lc(),a(Y.bc),c.fadeIn(300),r.fadeOut(300)},i.d=function(){a(Y.cc),c.fadeIn(300),r.fadeOut(300)},i.aa=function(){c.fadeOut(300),r.fadeIn(300)},i},_p__PopupManager=function(t){function n(){t.q.mc()==t.q.oc.nc&&e()}function e(){if(0!=v.length){g.hide();var t=v[v.length-1];t.pc(),i.fadeIn(300)}}function a(){for(var t=0;t<h.length;t++)h[t].fadeOut(200);return v.pop(),v.length>0?void setTimeout(e,200):(g.fadeIn(300),void i.fadeOut(300))}_p__PopupManager=null;var o={},i=$("#popup-page"),r=$("#popup-levelup"),c=$("#popup-levelup-val"),s=$("#popup-levelup-close"),u=$("#popup-coins"),f=$("#popup-coins-val"),l=$("#popup-coins-close"),g=$("#googletag-div"),h=[r,u];s.click(a),l.click(a);var d=function(){function t(t){this.Ob=t}return t.prototype.pc=function(){c.html(this.Ob),r.fadeIn(300)},t}(),p=function(){function t(t){this.qc=t}return t.prototype.pc=function(){f.html("+"+this.qc),u.fadeIn(300)},t}(),v=[];return o.O=function(){t.q.rc(function(){n()})},o.sc=function(t){v.unshift(new d(t)),n()},o.tc=function(t){v.unshift(new p(t)),n()},o},_p__PropertyManager=function(t){function n(t){for(var n=0;n<a.length;n++)if(a[n].id==t)return a[n];return null}function e(){for(var t=0;t<i.length;t++)i[t]()}_p__PropertyManager=null;var a=[],o=void 0,i=[],r={};return r.O=function(){a=t.K.skinArrayDict,o=0;for(var n=0;n<a.length;n++){var e=a[n];if(0==e.price){o=n;break}}},r.X=function(t){i.push(t),e()},r.a=function(){for(var t=[],n=0;n<a.length;n++)r.uc(a[n].id)&&t.push(a[n]);var e=t[parseInt(t.length*Math.random())];return e.id},r.n=function(){for(var t=o+1;t<a.length;t++)if(r.uc(a[t].id))return o=t,void e();for(var n=0;n<o;n++)if(r.uc(a[n].id))return o=n,void e()},r.m=function(){for(var t=o-1;t>=0;t--)if(r.uc(a[t].id))return o=t,void e();for(var n=a.length-1;n>o;n--)if(r.uc(a[n].id))return o=n,void e()},r.C=function(){return a[o].id},r.ja=function(t){for(var n=0;n<a.length;n++)if(a[n].id==t)return void(r.uc(a[n].id)&&(o=n,e()))},r.uc=function(e){var a=n(e);return null!=a&&(0==a.price||t.g.vc(e))},r},_p__StoreManager=function(t){function n(n){return n[t.H]?n[t.H]:n.en?n.en:n.x}function e(){return{wc:null,xc:function(){},yc:function(){},Ra:function(){},ka:function(){}}}function a(t){var a=0,o=e();return o.xc=function(){--a<0&&(a=t.list.length-1),u()},o.yc=function(){++a>=t.list.length&&(a=0),u()},o.Ra=function(){return n(t.name)},o.ka=function(){return t.list[a]},o}function o(){var n=Y.C(),e=O[n];e?0==e.price||t.g.vc(n)?n==t.b.C()?(M.hide(),m.hide(),A.show()):(M.show(),m.hide(),A.hide()):(M.hide(),m.show(),A.hide()):(M.hide(),m.hide(),A.hide())}function i(n){t.g.f()&&t.g.zc(t.I.oa,n,"USD",function(n){n&&(XPayStationWidget.off(),XPayStationWidget.on(XPayStationWidget.eventTypes.STATUS_DONE,function(n,e){t.g.U()}),XPayStationWidget.init({access_token:n,lightbox:{spinner:"round"}}),XPayStationWidget.open())})}function r(t){if(_!=t){_=t,t.Ac?p.fadeIn(300):p.fadeOut(300),l.html(t.Bc);for(var n=0;n<P.length;n++){var e=P[n];e.fadeOut(300)}t.Cc.fadeIn(300),c(t)}}function c(t){f.empty();for(var n=function(t){var n=R[t],e=document.createElement("li");f.append(e);var a=$(e);a.html(n.Ra()),a.click(function(){return s(n)}),n.wc=a},e=0;e<R.length;e++)n(e);R.length>0&&s(R[0])}function s(t){U!=t&&(U=t,f.children().removeClass("pressed"),U.wc&&U.wc.addClass("pressed"),u())}function u(){var t=Y.C(),n=O[t];n&&d.html(n.price);for(var e=0;e<E.length;e++)E[e]()}_p__StoreManager=null;var f=$("#store-groups"),l=$("#store-label"),g=$("#store-coins"),h=$("#store-coins-box"),d=$("#store-item-price"),p=$("#store-back-button"),v=$("#store-go-coins-button"),b=$("#store-go-skins-button"),M=$("#store-use-button"),m=$("#store-buy-button"),A=$("#store-current-label"),T=$("#store-buy-coins_125000"),I=$("#store-buy-coins_50000"),y=$("#store-buy-coins_16000"),w=$("#store-buy-coins_7000"),k=$("#store-buy-coins_3250"),N=$("#store-buy-coins_1250"),C=$("#store-cont-chooser"),j=$("#store-cont-items"),S=$("#store-cont-coins"),L=$("#store-over"),x=$("#store-view-prev"),D=$("#store-view-next"),E=[],O={},_=null,U=null,R=[],P=[C,j,S],z={Dc:{Bc:i18n("index.game.popup.menu.store.tab"),Ac:!1,Cc:C},Ec:{Bc:i18n("index.game.popup.menu.skins.tab"),Ac:!0,Cc:j},Fc:{Bc:i18n("index.game.popup.menu.coins.tab"),Ac:!0,Cc:S}},Y={};return Y.O=function(){p.click(function(){return Y.jc()}),v.click(function(){return Y.kc()}),b.click(function(){return Y.lc()}),h.click(function(){return Y.kc()}),T.click(function(){return i("coins_125000")}),I.click(function(){return i("coins_50000")}),y.click(function(){return i("coins_16000")}),w.click(function(){return i("coins_7000")}),k.click(function(){return i("coins_3250")}),N.click(function(){return i("coins_1250")});for(var n=t.K,e=0;e<n.skinGroupArrayDict.length;e++){var c=a(n.skinGroupArrayDict[e]);R.push(c)}for(var s=0;s<n.skinArrayDict.length;s++){var u=n.skinArrayDict[s];O[u.id]=u}t.g.ba(function(){t.g.f()?g.html(t.g.ea()):g.html("10")}),r(z.Ec),t.b.X(function(){o()}),Y.$(function(){o()}),M.click(function(){t.b.ja(Y.C())}),m.click(function(){var n=Y.C(),e=O[n].price;t.g.ea()<e||(L.fadeIn(300),t.g.Gc(n,function(){t.g.vc(n)&&t.b.ja(n),L.fadeOut(300)}))}),x.click(function(){return U.xc()}),D.click(function(){return U.yc()})},Y.$=function(t){E.push(t),u()},Y.C=function(){return null!=U?U.ka():0},Y.jc=function(){t.g.f()&&r(z.Dc)},Y.kc=function(){t.g.f()&&r(z.Fc)},Y.lc=function(){t.g.f()&&r(z.Ec)},Y},_p__UiStateManager=function(t){function n(t){f!=t&&(f=t,f.Hc(),e())}function e(){for(var t=0;t<l.length;t++)l[t]()}_p__UiStateManager=null;var a={},o=$("#background-page"),i=$("#game-page"),r=$("#main-menu-page"),c=$("#markup-wrap"),s=$("#loading-page"),u=$("#results-page"),f=null,l=[];return a.oc={nc:{Hc:function(){o.stop(),o.fadeIn(500),i.stop(),i.fadeOut(500),r.stop(),r.fadeIn(500),c.stop(),c.fadeIn(500),s.stop(),s.fadeOut(500),u.stop(),u.fadeOut(500)}},Ic:{Hc:function(){o.stop(),o.fadeIn(500),i.stop(),i.fadeOut(500),r.stop(),r.fadeOut(500),c.stop(),c.fadeIn(500),s.stop(),s.fadeIn(500),u.stop(),u.fadeOut(500)}},Jc:{Hc:function(){o.stop(),o.fadeOut(500),i.stop(),i.fadeOut(500),r.stop(),r.fadeOut(500),c.stop(),c.fadeOut(500),s.stop(),s.fadeOut(500),u.stop(),u.fadeOut(500)}},Kc:{Hc:function(){o.stop(),o.fadeOut(500),i.stop(),i.fadeIn(500),r.stop(),r.fadeOut(500),c.stop(),c.fadeOut(500),s.stop(),s.fadeOut(500),u.stop(),u.fadeOut(500)}},Lc:{Hc:function(){o.stop(),o.fadeOut(500),i.stop(),i.fadeIn(500),r.stop(),r.fadeOut(500),c.stop(),c.fadeIn(500),s.stop(),s.fadeOut(500),u.stop(),u.fadeIn(3e3)}}},a.O=function(){return n(a.oc.nc)},a.p=function(){return n(a.oc.nc)},a.F=function(){return n(a.oc.Ic)},a.la=function(){return n(a.oc.Jc)},a.Q=function(){return n(a.oc.Kc)},a.G=function(){return n(a.oc.Lc)},a.mc=function(){return f},a.rc=function(t){l.push(t),e()},a},_p__UserManager=function(t){function n(n){var e=t.g.B();$.get(t.J+"/pub/wuid/"+e+"/getUserData",function(t){n(t.user_data)})}function e(){for(var t=0;t<f.length;t++)f[t]();a()}function a(){for(var t=0;t<l.length;t++)l[t]()}function o(n,a){$.get(t.J+"/pub/wuid/"+a+"/login",function(t){t&&t.user_data?(v=!0,b=a,M=t.user_data,m=n,setCookie("account_type",m,60),e()):i()}).fail(function(){i()})}function i(){u.ic()}function r(){console.log("lo:fb"),FB.logout(function(){}),e()}function c(){console.log("lo:gg"),GoogleAuth.signOut(),e()}function s(){console.log("lo:vk"),VK.Auth.logout(function(){}),e()}_p__UserManager=null;var u={},f=[],l=[],g="facebook",h="google",d="vkontakte",p={Mc:"SKIN"},v=!1,b="guest",M={},m=null;return u.O=function(){e()},u.ca=function(){return v?M.username:""},u.ia=function(){return v?M.nickname:""},u.da=function(){return v?M.avatarUrl:GUEST_AVATAR_URL},u.ea=function(){return v?M.coins:0},u.ha=function(){return v?M.level:1},u.fa=function(){return v?M.expOnLevel:0},u.ga=function(){return v?M.expToNext:50},u.ka=function(){return v?M.skinId:0},u.Qb=function(){return v?M.highScore:0},u.Rb=function(){return v?M.bestSurvivalTimeSec:0},u.Sb=function(){return v?M.kills:0},u.Tb=function(){return v?M.headShots:0},u.Ub=function(){return v?M.sessionsPlayed:0},u.Vb=function(){return v?M.totalPlayTimeSec:0},u.Pb=function(){return v?M.regDate:{}},u._=function(t){f.push(t)},u.ba=function(t){l.push(t)},u.vc=function(t){var n=M.propertyList;if(!n)return!1;for(var e=0;e<n.length;e++){var a=n[e];if(a.id==t&&a.type===p.Mc)return!0}return!1},u.f=function(){return v},u.B=function(){return b},u.Nc=function(){return M},u.Oc=function(t){M=t,a()},u.U=function(e){v&&n(function(n){if(n){var o=u.ea(),i=u.ha();M=n,a();var r=u.ea(),c=u.ha();c>1&&c!=i&&t.M.sc(c);var s=r-o;s>=20&&t.M.tc(s)}e&&e()})},u.Gc=function(n,e){$.get(t.J+"/pub/wuid/"+b+"/buySkin?skinId="+n,function(n){1200==n.code?t.g.U(e):e()}).fail(function(){e()})},u.zc=function(n,e,a,o){return v?void $.get(t.J+"/pub/wuid/"+b+"/xsolla/"+n+"/buy/"+e+"/"+a,function(t){o(t.access_token)}).fail(function(){o(null)}):void o(null)},u.gc=function(){return u.ic(),"undefined"==typeof FB?void i():void FB.getLoginStatus(function(t){return console.log(t),"connected"===t.status?void(t.authResponse&&t.authResponse.accessToken?o(g,"fb_"+t.authResponse.accessToken):i()):void FB.login(function(t){return"connected"===t.status&&t.authResponse&&t.authResponse.accessToken?void o(g,"fb_"+t.authResponse.accessToken):void i()},{scope:"email,user_location"})})},u.fc=function(){return u.ic(),"undefined"==typeof GoogleAuth?void i():void GoogleAuth.then(function(){if(GoogleAuth.isSignedIn.get()){var t=GoogleAuth.currentUser.get();return void o(h,"gg_"+t.getAuthResponse().id_token)}GoogleAuth.currentUser.listen(function(t){t.isSignedIn()?o(h,"gg_"+t.getAuthResponse().id_token):i()}),GoogleAuth.signIn()})},u.hc=function(){u.ic(),VK.Auth.getLoginStatus(function(t){return t.session?void(t.session.sid?o(d,"vk_"+t.session.sid):i()):void VK.Auth.login(function(t){return t.session&&t.session.sid?void o(d,"vk_"+t.session.sid):void i()})})},u.ic=function(){if(console.log("iSI: "+v),v){var t=m;switch(v=!1,b="guest",M={},m=null,setCookie("account_type",m,60),t){case g:return void r();case h:return void c();case d:return void s()}e()}},u.w=function(){getCookie("account_type")==g&&(console.log("rs:fb"),u.gc())},u.z=function(){getCookie("account_type")==h&&(console.log("rs:gg"),u.fc())},u.Pc=function(){getCookie("account_type")==d&&(console.log("rs:vk"),u.hc())},u};