<!DOCTYPE html>

<html>
	<head>
	<title>Old Prodigy (Version Selection)</title>
	</head>
	
	<style>
	body {
		background-image: url("/oldprodigy/images/Background.png");
		background-attachment: fixed;
		background-repeat: no-repeat;
		background-size: cover;
		background-position: center center;
		margin: auto;
		height: 100%;
		background-color: #55B9A7;
	}
	
	.select-panel {
		display: block;
		position: fixed;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
	}
	
	.select-panel .banner {
		position: fixed;
		display: block;
		top: 20px;
		left: 55px;
	}
	
	.select-panel .overlay {
		position: fixed;
		display: block;
		top: 185px;
		left: 11px;
	}
	
	.select-panel .textbox {
		position: fixed;
		display: block;
		top: 140px;
		width: 540px;
		font: 14pt "Arial";
		text-align: center;
		color: rgb(0, 0, 0);
	}
	
	.intext {
		position: absolute;
		top: 10px;
		width: 238px;
		font: 14pt "Arial";
		text-align: center;
		font-weight: bold;
		-webkit-text-stroke: #000;
		-webkit-text-stroke-width: medium;
		color: rgb(255, 255, 255);
	}
	
	.button {
		display: block;
		position: fixed;
	}
	
	.button:hover {
		transform: translate(0px, -3px)
	}
	
	.warning-panel {
		display: none;
		position: fixed;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
	}
	
	.warning-panel .warning-body {
		position: fixed;
		display: block;
		top: 128px;
		left: 24px;
		width: 420px;
		font: 16px "Arial", sans-serif;
		font-weight: bold;
		color: rgb(0, 0, 0);
	</style>
	
<body>

	<div class="warning-panel" id="beta-popup" draggable="false">
		<img alt="Warning!" src="/oldprodigy/images/WarningPanel.png" draggable="false">
		
		<div class="warning-body" draggable="false">
			<div>This version is still in beta, and may not function as intended. Expect the unexpected every now and again, and be sure to save frequently.</div>
			<br>
			<div>Do you want to continue?</div>
		</div>
		
		<a href="javascript:EnterGame(betaConfirmCallback)" class="button" style="bottom: 24px; left: 24px;" draggable="false">
			<img alt="Yes" src="/oldprodigy/images/Yes.png" draggable="false">
		</a>
		
		<a href="javascript:closeBetaPopup()" class="button" style="bottom: 24px; right: 24px;" draggable="false">
			<img alt="No" src="/oldprodigy/images/No.png" draggable="false">
		</a>
	</div>
	
	<div class="select-panel" id="mod-select" style="display: none;" draggable="false">
		<img src="/oldprodigy/images/MenuPanel-3.png" draggable="false">
		
		<div class="banner" draggable="false">
			<img alt="Mod Select" src="/oldprodigy/images/ModSelect-Banner.png" draggable="false">
		</div>
		
		<div class="textbox" id="select-mod-version" draggable="false">
			<img src="/oldprodigy/images/ModVersionText.png" alt="Choose a version to select mods for." draggable="false">
		</div>
		
		<div class="textbox" id="select-mod-play" style="display: none;" draggable="false">
			<img src="/oldprodigy/images/ModSelectText.png" alt="Select the mods you want to play with." draggable="false">
		</div>
		
		<div class="overlay" draggable="false">
			<img src="/oldprodigy/images/MenuPanel-Overlay.png" draggable="false">
			
				<div id="versions-1" draggable="false">
				
					<a href="javascript:ModSelector('1-30-0')" class="button" style="top: 12px; left: 12px; position: absolute" draggable="false">
						<img alt="1-30-0" src="/oldprodigy/images/1-30-0.png" draggable="false">
					</a>
					
				</div>
				
				<div id="mods-1-30-0" style="display: none" draggable="false">
				
					<a href="javascript:AddMod('WalkSpeed', '1-30-0')" class="button" style="top: 12px; left: 12px; position: absolute" draggable="false">
						<img id="mod-WalkSpeed-1-30-0" src="/oldprodigy/images/ModSelectButton.png" draggable="false">
						
						<div class="intext" id="select-mod-version" draggable="false">
							<img alt="Walk Speed" src="/oldprodigy/images/WalkSpeed.png" draggable="false">
						</div>
					</a>
				
					<a href="javascript:AddMod('FastGameSpeed', '1-30-0')" class="button" style="top: 68px; left: 12px; position: absolute" draggable="false">
						<img id="mod-FastGameSpeed-1-30-0" src="/oldprodigy/images/ModSelectButton.png" draggable="false">
						
						<div class="intext" id="select-mod-version" draggable="false">
							<img alt="Fast Game Speed" src="/oldprodigy/images/FastGameSpeed.png" draggable="false">
						</div>
					</a>
					
					<a href="javascript:StartGameMod('1-30-0')" class="button" style="top: 371px; right: 12px; position: absolute" draggable="false">
						<img alt="Start" src="/oldprodigy/images/Start.png" draggable="false">
					</a>
				
				</div>
		</div>
		
		<div class="button" style="bottom: 24px; left: 24px;" draggable="false">
			<a id="mod-back" href="javascript:closeBetaPopup()" draggable="false">
				<img alt="Go back" src="/oldprodigy/images/Back.png" draggable="false">
			</a>
		</div>
	</div>
	
	<div class="select-panel" id="version-select" draggable="false">
		<img src="/oldprodigy/images/MenuPanel-3.png" draggable="false">
		
		<div class="banner" draggable="false">
			<img alt="Version Select" src="/oldprodigy/images/MenuPanel-Banner.png" draggable="false">
		</div>
		
		<div class="overlay" draggable="false">
			<img src="/oldprodigy/images/MenuPanel-Overlay.png" draggable="false">
			
			<div id="page-1" style="display: block" draggable="false">
			
				<a href="javascript:EnterGame('1-11-0')" class="button" style="top: 12px; left: 12px; position: absolute" draggable="false">
					<img alt="1-11-0" src="/oldprodigy/images/1-11-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-16-5')" class="button" style="top: 68px; left: 12px; position: absolute" draggable="false">
					<img alt="1-16-5" src="/oldprodigy/images/1-16-5.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-17-0')" class="button" style="top: 124px; left: 12px; position: absolute" draggable="false">
					<img alt="1-17-0" src="/oldprodigy/images/1-17-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-18-2')" class="button" style="top: 180px; left: 12px; position: absolute" draggable="false">
					<img alt="1-18-2" src="/oldprodigy/images/1-18-2.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-24-0')" class="button" style="top: 236px; left: 12px; position: absolute" draggable="false">
					<img alt="1-24-0" src="/oldprodigy/images/1-24-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-30-0')" class="button" style="top: 292px; left: 12px; position: absolute" draggable="false">
					<img alt="1-30-0" src="/oldprodigy/images/1-30-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-37-0')" class="button" style="top: 12px; right: 12px; position: absolute" draggable="false">
					<img alt="1-37-0" src="/oldprodigy/images/1-37-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-39-0')" class="button" style="top: 68px; right: 12px; position: absolute" draggable="false">
					<img alt="1-39-0" src="/oldprodigy/images/1-39-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-46-2')" class="button" style="top: 124px; right: 12px; position: absolute" draggable="false">
					<img alt="1-46-2" src="/oldprodigy/images/1-46-2.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-50-0')" class="button" style="top: 180px; right: 12px; position: absolute" draggable="false">
					<img alt="1-50-0" src="/oldprodigy/images/1-50-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-51-0')" class="button" style="top: 236px; right: 12px; position: absolute" draggable="false">
					<img alt="1-51-0" src="/oldprodigy/images/1-51-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-60-0')" class="button" style="top: 292px; right: 12px; position: absolute" draggable="false">
					<img alt="1-60-0" src="/oldprodigy/images/1-60-0.png" draggable="false">
				</a>
				
			</div>
			
			<div id="page-2" style="display: none" draggable="false">
				
				<a href="javascript:EnterGame('1-70-0')" class="button" style="top: 12px; left: 12px; position: absolute" draggable="false">
					<img alt="1-70-0" src="/oldprodigy/images/1-70-0.png" draggable="false">
				</a>
				
				<a href="javascript:EnterGame('1-80-0')" class="button" style="top: 68px; left: 12px; position: absolute" draggable="false">
					<img alt="1-80-0" src="/oldprodigy/images/1-80-0.png" draggable="false">
				</a>
			
				<a href="javascript:EnterGame('1-90-0')" class="button" style="top: 124px; left: 12px; position: absolute" draggable="false">
					<img alt="1-90-0" src="/oldprodigy/images/1-90-0.png" draggable="false">
				</a>
			
				<a href="javascript:openBetaPopup('2-6-0')" class="button" style="top: 180px; left: 12px; position: absolute" draggable="false">
					<img alt="2-6-0" src="/oldprodigy/images/2-6-0.png" draggable="false">
				</a>
				
			</div>
			
		</div>
		
		<div class="button" style="top: 112px; left: 24px;" draggable="false">
			<a href="javascript:ExitSelection()" draggable="false">
				<img alt="Go back" src="/oldprodigy/images/Close.png" draggable="false">
			</a>
		</div>
		
		<div class="button" style="top: 112px; right: 24px;" draggable="false" draggable="false">
			<a href="javascript:openMods()" draggable="false" draggable="false">
				<img alt="Mods" src="/oldprodigy/images/Mods.png" draggable="false">
			</a>
		</div>
		
		<div class="button" style="bottom: 24px; left: 24px;" draggable="false">
			<a href="javascript:BackPage()" draggable="false">
				<img alt="Go back" src="/oldprodigy/images/Back.png" draggable="false">
			</a>
		</div>
		
		<div class="button" style="bottom: 24px; right: 24px;" draggable="false">
			<a href="javascript:NextPage()" draggable="false">
				<img alt="Next page" src="/oldprodigy/images/Next.png" draggable="false">
			</a>
		</div>
		
	</div>
		
</body>

<script>
Menu = {
	Select: {
		id: "version-select"
	},
	BetaPopup: {
		id: "beta-popup"
	},
	ModSelect: {
		id: "mod-select"
	}
},
Pages = [
	{
		id: "page-1"
	},
	{
		id: "page-2"
	}
],
ModPages = {
	"1-30-0": {
		id: "mods-1-30-0"
	},
	selection: {
		id: "versions-1"
	}
},
selectedMods = [],
currentPage = 0,
currentMenu = Menu.Select,
currentModPage = ModPages.selection,
(new Audio("/oldprodigy/audio/click.mp3")).load(),
PlayClick = function() {
	(new Audio("/oldprodigy/audio/click.mp3")).play()
},
ExitSelection = function() {
	PlayClick();
	setTimeout(()=> {
		window.location.href = "/";
	}, 200);
},
EnterGame = function(version) {
	PlayClick();
	if (version == null) {
		closeBetaPopup();
		return
	};
	setTimeout(()=> {
		window.location.href = "/oldprodigy/" + version + "/";
	}, 200);
},
BackPage = function() {
	PlayClick();
	document.getElementById(Pages[currentPage].id).style.display = "none";
	if (currentPage == 0) {
		currentPage = Pages.length - 1
	} else {
		currentPage -= 1
	};
	document.getElementById(Pages[currentPage].id).style.display = "block"
},
NextPage = function() {
	PlayClick();
	document.getElementById(Pages[currentPage].id).style.display = "none";
	if (currentPage == Pages.length - 1) {
		currentPage = 0
	} else {
		currentPage += 1
	};
	document.getElementById(Pages[currentPage].id).style.display = "block"
},
betaConfirmCallback = null,
openBetaPopup = function(version) {
	PlayClick();
	betaConfirmCallback = version,
	document.getElementById(currentMenu.id).style.display = "none",
	currentMenu = Menu.BetaPopup,
	document.getElementById(currentMenu.id).style.display = "block";
},
closeBetaPopup = function() {
	PlayClick();
	betaConfirmCallback = null; 
	document.getElementById(currentMenu.id).style.display = "none",
	currentMenu = Menu.Select,
	document.getElementById(currentMenu.id).style.display = "block";
},
openMods = function() {
	PlayClick(),
	document.getElementById(currentMenu.id).style.display = "none",
	currentMenu = Menu.ModSelect,
	document.getElementById(currentMenu.id).style.display = "block",
	currentModPage = ModPages.selection
},
ModSelector = function(version) {
	PlayClick();
	if (currentModPage == ModPages.selection) {
		DeselectAllMods(version),
		document.getElementById(currentModPage.id).style.display = "none",
		currentModPage = ModPages[version],
		document.getElementById(currentModPage.id).style.display = "block",
		document.getElementById("mod-back").href = "javascript:ModSelector()",
		document.getElementById("select-mod-version").style.display = "none",
		document.getElementById("select-mod-play").style.display = "block"
	} else {
		document.getElementById(currentModPage.id).style.display = "none",
		currentModPage = ModPages.selection,
		document.getElementById(currentModPage.id).style.display = "block",
		document.getElementById("mod-back").href = "javascript:closeBetaPopup()",
		document.getElementById("select-mod-version").style.display = "block",
		document.getElementById("select-mod-play").style.display = "none"
	}
},
AddMod = function(modid, version) {
	PlayClick();
	if (selectedMods.indexOf(modid) == -1) {
		document.getElementById("mod-" + modid + "-" + version).setAttribute('src', '/oldprodigy/images/ModSelectButton-HIGHLIGHT.png'),
		selectedMods.push(modid)
	} else {
		document.getElementById("mod-" + modid + "-" + version).setAttribute('src', '/oldprodigy/images/ModSelectButton.png'),
		selectedMods.splice(selectedMods.indexOf(modid), 1)
	}
},
DeselectAllMods = function(version) {
	for(var i = 0; i < selectedMods.length; i += 1) {
		document.getElementById("mod-" + selectedMods[i] + "-" + version).setAttribute('src', '/oldprodigy/images/ModSelectButton.png')
	};
	selectedMods = []
}
StartGameMod = function(version) {
	PlayClick();
	var ModString = '?mods=' + selectedMods.toString();
	if (selectedMods.length < 1) {
		ModString = ""
	};
	setTimeout(()=> {
		window.location.href = "/oldprodigy/" + version + "/" + ModString;
	}, 200);
}
</script>

</html>
